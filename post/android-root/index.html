<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Android Root笔记 - 在路上</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="ch0ng1ofa1" /><meta name="description" content="工具 1 sudo apt install android-tools-adb android-tools-fastboot adb Android Debug Bridge， 安卓机调试工具 主要的调试控制工具 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36" />






<meta name="generator" content="Hugo 0.75.0-DEV with theme even" />


<link rel="canonical" href="http://blog.chongiofai.comf/post/android-root/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.78f8f17bab244b9ee62ad16480c9584d5fc2db06ae20681d1ca225cefd80767c.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Android Root笔记" />
<meta property="og:description" content="工具 1 sudo apt install android-tools-adb android-tools-fastboot adb Android Debug Bridge， 安卓机调试工具 主要的调试控制工具 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://blog.chongiofai.comf/post/android-root/" />
<meta property="article:published_time" content="2020-05-02T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-02T00:00:00+00:00" />
<meta itemprop="name" content="Android Root笔记">
<meta itemprop="description" content="工具 1 sudo apt install android-tools-adb android-tools-fastboot adb Android Debug Bridge， 安卓机调试工具 主要的调试控制工具 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36">
<meta itemprop="datePublished" content="2020-05-02T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-05-02T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1688">



<meta itemprop="keywords" content="android,adb," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Android Root笔记"/>
<meta name="twitter:description" content="工具 1 sudo apt install android-tools-adb android-tools-fastboot adb Android Debug Bridge， 安卓机调试工具 主要的调试控制工具 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">在路上</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">主页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">文章</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">标签</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">分类</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">在路上</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">主页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">文章</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">标签</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">分类</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Android Root笔记</h1>

      <div class="post-meta">
        <span class="post-time"> 2020-05-02 </span>
        <div class="post-category">
            <a href="/categories/note/"> note </a>
            </div>
          <span class="more-meta"> 1688 words </span>
          <span class="more-meta"> 4 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#工具">工具</a></li>
    <li><a href="#环境">环境</a></li>
    <li><a href="#步骤">步骤</a></li>
  </ul>
</nav>
  </div>
</div>
  <div class="post-outdated">
    <div class="hint">
      <p>[NOTE] Updated <span class="timeago" datetime="2020-05-02T00:00:00" title="May 2, 2020">May 2, 2020</span>. This article may have outdated content or subject matter.</p>
    </div>
  </div>
    <div class="post-content">
      <h2 id="工具">工具</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">sudo apt install android-tools-adb android-tools-fastboot
</code></pre></td></tr></table>
</div>
</div><ol>
<li>adb</li>
</ol>
<blockquote>
<p>Android Debug Bridge， 安卓机调试工具
主要的调试控制工具</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ adb --version
Android Debug Bridge version 1.0.39
Version 1:8.1.0+r23-5~18.04
Installed as /usr/lib/android-sdk/platform-tools/adb
 $ adb <span class="nb">help</span>
Android Debug Bridge version 1.0.39
Version 1:8.1.0+r23-5~18.04
Installed as /usr/lib/android-sdk/platform-tools/adb

global options:
 -a         listen on all network interfaces, not just localhost
 -d         use USB device <span class="o">(</span>error <span class="k">if</span> multiple devices connected<span class="o">)</span>
 -e         use TCP/IP device <span class="o">(</span>error <span class="k">if</span> multiple TCP/IP devices available<span class="o">)</span>
 -s SERIAL  use device with given serial <span class="o">(</span>overrides <span class="nv">$ANDROID_SERIAL</span><span class="o">)</span>
 -t ID      use device with given transport id
 -H         name of adb server host <span class="o">[</span><span class="nv">default</span><span class="o">=</span>localhost<span class="o">]</span>
 -P         port of adb server <span class="o">[</span><span class="nv">default</span><span class="o">=</span>5037<span class="o">]</span>
 -L SOCKET  listen on given socket <span class="k">for</span> adb server <span class="o">[</span><span class="nv">default</span><span class="o">=</span>tcp:localhost:5037<span class="o">]</span>

general commands:
 devices <span class="o">[</span>-l<span class="o">]</span>             list connected devices <span class="o">(</span>-l <span class="k">for</span> long output<span class="o">)</span>
 <span class="nb">help</span>                     show this <span class="nb">help</span> message
 version                  show version num

networking:
 connect HOST<span class="o">[</span>:PORT<span class="o">]</span>      connect to a device via TCP/IP <span class="o">[</span>default <span class="nv">port</span><span class="o">=</span>5555<span class="o">]</span>
 disconnect <span class="o">[</span>HOST<span class="o">[</span>:PORT<span class="o">]]</span>
     disconnect from given TCP/IP device <span class="o">[</span>default <span class="nv">port</span><span class="o">=</span>5555<span class="o">]</span>, or all
 forward --list           list all forward socket connections
 forward <span class="o">[</span>--no-rebind<span class="o">]</span> LOCAL REMOTE
     forward socket connection using:
       tcp:&lt;port&gt; <span class="o">(</span>&lt;local&gt; may be <span class="s2">&#34;tcp:0&#34;</span> to pick any open port<span class="o">)</span>
       localabstract:&lt;unix domain socket name&gt;
       localreserved:&lt;unix domain socket name&gt;
       localfilesystem:&lt;unix domain socket name&gt;
       dev:&lt;character device name&gt;
       jdwp:&lt;process pid&gt; <span class="o">(</span>remote only<span class="o">)</span>
 forward --remove LOCAL   remove specific forward socket connection
 forward --remove-all     remove all forward socket connections
 ppp TTY <span class="o">[</span>PARAMETER...<span class="o">]</span>   run PPP over USB
 reverse --list           list all reverse socket connections from device
 reverse <span class="o">[</span>--no-rebind<span class="o">]</span> REMOTE LOCAL
     reverse socket connection using:
       tcp:&lt;port&gt; <span class="o">(</span>&lt;remote&gt; may be <span class="s2">&#34;tcp:0&#34;</span> to pick any open port<span class="o">)</span>
       localabstract:&lt;unix domain socket name&gt;
       localreserved:&lt;unix domain socket name&gt;
       localfilesystem:&lt;unix domain socket name&gt;
 reverse --remove REMOTE  remove specific reverse socket connection
 reverse --remove-all     remove all reverse socket connections from device

file transfer:
 push <span class="o">[</span>--sync<span class="o">]</span> LOCAL... REMOTE
     copy <span class="nb">local</span> files/directories to device
     --sync: only push files that are newer on the host than the device
 pull <span class="o">[</span>-a<span class="o">]</span> REMOTE... LOCAL
     copy files/dirs from device
     -a: preserve file timestamp and mode
 sync <span class="o">[</span>system<span class="p">|</span>vendor<span class="p">|</span>oem<span class="p">|</span>data<span class="p">|</span>all<span class="o">]</span>
     sync a <span class="nb">local</span> build from <span class="nv">$ANDROID_PRODUCT_OUT</span> to the device <span class="o">(</span>default all<span class="o">)</span>
     -l: list but don<span class="s1">&#39;t copy
</span><span class="s1">
</span><span class="s1">shell:
</span><span class="s1"> shell [-e ESCAPE] [-n] [-Tt] [-x] [COMMAND...]
</span><span class="s1">     run remote shell command (interactive shell if no command given)
</span><span class="s1">     -e: choose escape character, or &#34;none&#34;; default &#39;</span>~<span class="s1">&#39;
</span><span class="s1">     -n: don&#39;</span>t <span class="nb">read</span> from stdin
     -T: disable PTY allocation
     -t: force PTY allocation
     -x: disable remote <span class="nb">exit</span> codes and stdout/stderr separation
 emu COMMAND              run emulator console <span class="nb">command</span>

app installation:
 install <span class="o">[</span>-lrtsdg<span class="o">]</span> PACKAGE
 install-multiple <span class="o">[</span>-lrtsdpg<span class="o">]</span> PACKAGE...
     push package<span class="o">(</span>s<span class="o">)</span> to the device and install them
     -l: forward lock application
     -r: replace existing application
     -t: allow <span class="nb">test</span> packages
     -s: install application on sdcard
     -d: allow version code downgrade <span class="o">(</span>debuggable packages only<span class="o">)</span>
     -p: partial application install <span class="o">(</span>install-multiple only<span class="o">)</span>
     -g: grant all runtime permissions
 uninstall <span class="o">[</span>-k<span class="o">]</span> PACKAGE
     remove this app package from the device
     <span class="s1">&#39;-k&#39;</span>: keep the data and cache directories

backup/restore:
   to show usage run <span class="s2">&#34;adb shell bu help&#34;</span>

debugging:
 bugreport <span class="o">[</span>PATH<span class="o">]</span>
     write bugreport to given PATH <span class="o">[</span><span class="nv">default</span><span class="o">=</span>bugreport.zip<span class="o">]</span><span class="p">;</span>
     <span class="k">if</span> PATH is a directory, the bug report is saved in that directory.
     devices that don<span class="err">&#39;</span>t support zipped bug reports output to stdout.
 jdwp                     list pids of processes hosting a JDWP transport
 logcat                   show device log <span class="o">(</span>logcat --help <span class="k">for</span> more<span class="o">)</span>

security:
 disable-verity           disable dm-verity checking on userdebug builds
 enable-verity            re-enable dm-verity checking on userdebug builds
 keygen FILE
     generate adb public/private key<span class="p">;</span> private key stored in FILE,
     public key stored in FILE.pub <span class="o">(</span>existing files overwritten<span class="o">)</span>

scripting:
 wait-for<span class="o">[</span>-TRANSPORT<span class="o">]</span>-STATE
     <span class="nb">wait</span> <span class="k">for</span> device to be in the given state
     State: device, recovery, sideload, or bootloader
     Transport: usb, local, or any <span class="o">[</span><span class="nv">default</span><span class="o">=</span>any<span class="o">]</span>
 get-state                print offline <span class="p">|</span> bootloader <span class="p">|</span> device
 get-serialno             print &lt;serial-number&gt;
 get-devpath              print &lt;device-path&gt;
 remount
     remount /system, /vendor, and /oem partitions read-write
 reboot <span class="o">[</span>bootloader<span class="p">|</span>recovery<span class="p">|</span>sideload<span class="p">|</span>sideload-auto-reboot<span class="o">]</span>
     reboot the device<span class="p">;</span> defaults to booting system image but
     supports bootloader and recovery too. sideload reboots
     into recovery and automatically starts sideload mode,
     sideload-auto-reboot is the same but reboots after sideloading.
 sideload OTAPACKAGE      sideload the given full OTA package
 root                     restart adbd with root permissions
 unroot                   restart adbd without root permissions
 usb                      restart adb server listening on USB
 tcpip PORT               restart adb server listening on TCP on PORT

internal debugging:
 start-server             ensure that there is a server running
 kill-server              <span class="nb">kill</span> the server <span class="k">if</span> it is running
 reconnect                kick connection from host side to force reconnect
 reconnect device         kick connection from device side to force reconnect
 reconnect offline        reset offline/unauthorized devices to force reconnect

environment variables:
 <span class="nv">$ADB_TRACE</span>
     comma-separated list of debug info to log:
     all,adb,sockets,packets,rwx,usb,sync,sysdeps,transport,jdwp
 <span class="nv">$ADB_VENDOR_KEYS</span>         colon-separated list of keys <span class="o">(</span>files or directories<span class="o">)</span>
 <span class="nv">$ANDROID_SERIAL</span>          serial number to connect to <span class="o">(</span>see -s<span class="o">)</span>
 <span class="nv">$ANDROID_LOG_TAGS</span>        tags to be used by logcat <span class="o">(</span>see logcat --help<span class="o">)</span>
</code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>fastboot</li>
</ol>
<blockquote>
<p>fastboot模式下的调试工具，刷入img</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"> $ fastboot --version
fastboot version 1:8.1.0+r23-5~18.04
Installed as /usr/lib/android-sdk/platform-tools/fastboot
 $ fastboot <span class="nb">help</span>
usage: fastboot <span class="o">[</span> &lt;option&gt; <span class="o">]</span> &lt;command&gt;

commands:
  update &lt;filename&gt;                        Reflash device from update.zip.
                                           Sets the flashed slot as active.
  flashall                                 Flash boot, system, vendor, and --
                                           <span class="k">if</span> found -- recovery. If the device
                                           supports slots, the slot that has
                                           been flashed to is <span class="nb">set</span> as active.
                                           Secondary images may be flashed to
                                           an inactive slot.
  flash &lt;partition&gt; <span class="o">[</span> &lt;filename&gt; <span class="o">]</span>         Write a file to a flash partition.
  flashing lock                            Locks the device. Prevents flashing.
  flashing unlock                          Unlocks the device. Allows flashing
                                           any partition except
                                           bootloader-related partitions.
  flashing lock_critical                   Prevents flashing bootloader-related
                                           partitions.
  flashing unlock_critical                 Enables flashing bootloader-related
                                           partitions.
  flashing get_unlock_ability              Queries bootloader to see <span class="k">if</span> the
                                           device is unlocked.
  flashing get_unlock_bootloader_nonce     Queries the bootloader to get the
                                           unlock nonce.
  flashing unlock_bootloader &lt;request&gt;     Issue unlock bootloader using request.
  flashing lock_bootloader                 Locks the bootloader to prevent
                                           bootloader version rollback.
  erase &lt;partition&gt;                        Erase a flash partition.
  format<span class="o">[</span>:<span class="o">[</span>&lt;fs type&gt;<span class="o">][</span>:<span class="o">[</span>&lt;size&gt;<span class="o">]]</span> &lt;partition&gt;
                                           Format a flash partition. Can
                                           override the fs <span class="nb">type</span> and/or size
                                           the bootloader reports.
  getvar &lt;variable&gt;                        Display a bootloader variable.
  set_active &lt;slot&gt;                        Sets the active slot. If slots are
                                           not supported, this does nothing.
  boot &lt;kernel&gt; <span class="o">[</span> &lt;ramdisk&gt; <span class="o">[</span> &lt;second&gt; <span class="o">]</span> <span class="o">]</span> Download and boot kernel.
  flash:raw &lt;bootable-partition&gt; &lt;kernel&gt; <span class="o">[</span> &lt;ramdisk&gt; <span class="o">[</span> &lt;second&gt; <span class="o">]</span> <span class="o">]</span>
                                           Create bootimage and flash it.
  devices <span class="o">[</span>-l<span class="o">]</span>                             List all connected devices <span class="o">[</span>with
                                           device paths<span class="o">]</span>.
  <span class="k">continue</span>                                 Continue with autoboot.
  reboot <span class="o">[</span>bootloader<span class="p">|</span>emergency<span class="o">]</span>            Reboot device <span class="o">[</span>into bootloader or emergency mode<span class="o">]</span>.
  reboot-bootloader                        Reboot device into bootloader.
  oem &lt;parameter1&gt; ... &lt;parameterN&gt;        Executes oem specific command.
  stage &lt;infile&gt;                           Sends contents of &lt;infile&gt; to stage <span class="k">for</span>
                                           the next command. Supported only on
                                           Android Things devices.
  get_staged &lt;outfile&gt;                     Receives data to &lt;outfile&gt; staged by the
                                           last command. Supported only on Android
                                           Things devices.
  <span class="nb">help</span>                                     Show this <span class="nb">help</span> message.

options:
  -w                                       Erase userdata and cache <span class="o">(</span>and format
                                           <span class="k">if</span> supported by partition <span class="nb">type</span><span class="o">)</span>.
  -u                                       Do not erase partition before
                                           formatting.
  -s &lt;specific device&gt;                     Specify a device. For USB, provide either
                                           a serial number or path to device port.
                                           For ethernet, provide an address in the
                                           form &lt;protocol&gt;:&lt;hostname&gt;<span class="o">[</span>:port<span class="o">]</span> where
                                           &lt;protocol&gt; is either tcp or udp.
  -c &lt;cmdline&gt;                             Override kernel commandline.
  -i &lt;vendor id&gt;                           Specify a custom USB vendor id.
  -b, --base &lt;base_addr&gt;                   Specify a custom kernel base
                                           address <span class="o">(</span>default: 0x10000000<span class="o">)</span>.
  --kernel-offset                          Specify a custom kernel offset.
                                           <span class="o">(</span>default: 0x00008000<span class="o">)</span>
  --ramdisk-offset                         Specify a custom ramdisk offset.
                                           <span class="o">(</span>default: 0x01000000<span class="o">)</span>
  --tags-offset                            Specify a custom tags offset.
                                           <span class="o">(</span>default: 0x00000100<span class="o">)</span>
  -n, --page-size &lt;page size&gt;              Specify the nand page size
                                           <span class="o">(</span>default: 2048<span class="o">)</span>.
  -S &lt;size&gt;<span class="o">[</span>K<span class="p">|</span>M<span class="p">|</span>G<span class="o">]</span>                         Automatically sparse files greater
                                           than <span class="s1">&#39;size&#39;</span>. <span class="m">0</span> to disable.
  --slot &lt;slot&gt;                            Specify slot name to be used <span class="k">if</span> the
                                           device supports slots. All operations
                                           on partitions that support slots will
                                           be <span class="k">done</span> on the slot specified.
                                           <span class="s1">&#39;all&#39;</span> can be given to refer to all slots.
                                           <span class="s1">&#39;other&#39;</span> can be given to refer to a
                                           non-current slot. If this flag is not
                                           used, slotted partitions will default
                                           to the current active slot.
  -a, --set-active<span class="o">[=</span>&lt;slot&gt;<span class="o">]</span>                Sets the active slot. If no slot is
                                           provided, this will default to the value
                                           given by --slot. If slots are not
                                           supported, this does nothing. This will
                                           run after all non-reboot commands.
  --skip-secondary                         Will not flash secondary slots when
                                           performing a flashall or update. This
                                           will preserve data on other slots.
  --skip-reboot                            Will not reboot the device when
                                           performing commands that normally
                                           trigger a reboot.
  --disable-verity                         Set the disable-verity flag in the
                                           the vbmeta image being flashed.
  --disable-verification                   Set the disable-verification flag in                                           the vbmeta image being flashed.
  --wipe-and-use-fbe                       On devices which support it,
                                           erase userdata and cache, and
                                           <span class="nb">enable</span> file-based encryption
  --unbuffered                             Do not buffer input or output.
  --version                                Display version.
  -h, --help                               show this message.
</code></pre></td></tr></table>
</div>
</div><h2 id="环境">环境</h2>
<ol>
<li>OnePlus8 Pro H2OS Android 10</li>
<li>Ubnutn18.04</li>
<li>adb 1:8.1.0+r23-5~18.04</li>
<li>fastboot  1:8.1.0+r23-5~18.04</li>
</ol>
<h2 id="步骤">步骤</h2>
<ol>
<li>
<p>Unlock OEM</p>
<ol>
<li>Open Development Mode (Phone)</li>
<li>Open USB Debuging (Phone)</li>
<li>Open OEM Unlock (Phone)</li>
<li>Boot fastboot bootloader
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">adb reboot fastboot
</code></pre></td></tr></table>
</div>
</div><p>``</p>
</li>
<li>Unlock OEM
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">fastboot unlock
</code></pre></td></tr></table>
</div>
</div><p>``</p>
</li>
<li>Reboot
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">fastboot reboot
</code></pre></td></tr></table>
</div>
</div><p>``</p>
</li>
</ol>
</li>
<li>
<p>Install Magisk/MagiskManager</p>
</li>
<li>
<p>Download Magisk/MagiskManager
<a href="https://github.com/topjohnwu/Magisk">https://github.com/topjohnwu/Magisk</a></p>
</li>
<li>
<p>Install MagiskManager
<code>adb install MagiskManager-*.apk</code></p>
</li>
<li>
<p>Done</p>
</li>
</ol>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">ch0ng1ofa1</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2020-05-02
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/android/">android</a>
          <a href="/tags/adb/">adb</a>
          </div>
      <nav class="post-nav">
        
        <a class="next" href="/post/postwoman-cors/">
            <span class="next-text nav-default">Postwoman CORS错误</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:chongiofai@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/chongiofai" class="iconfont icon-github" title="github"></a>
  <a href="http://blog.chongiofai.comf/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2020
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">ch0ng1ofa1</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.min.js" integrity="sha256-jwCP0NAdCBloaIWTWHmW4i3snUNMHUNO+jr9rYd2iOI=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.locales.min.js" integrity="sha256-ZwofwC1Lf/faQCzN7nZtfijVV6hSwxjQMwXL4gn9qU8=" crossorigin="anonymous"></script>
  <script><!-- NOTE: timeago.js uses the language code format like "zh_CN" (underscore and case sensitive) -->
    var languageCode = "en".replace(/-/g, '_').replace(/_(.*)/, function ($0, $1) {return $0.replace($1, $1.toUpperCase());});
    timeago().render(document.querySelectorAll('.timeago'), languageCode);
    timeago.cancel();  
  </script>



<script type="text/javascript" src="/js/main.min.d7b7ada643c9c1a983026e177f141f7363b4640d619caf01d8831a6718cd44ea.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
      TeX: {equationNumbers: {autoNumber: "AMS"}},
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"  integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>








</body>
</html>
